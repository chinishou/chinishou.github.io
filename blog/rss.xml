<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="rss.xsl"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Wei - TD/TA Blog</title>
        <link>https://chinishou.github.io/blog</link>
        <description>Wei - TD/TA Blog</description>
        <lastBuildDate>Sun, 16 Nov 2025 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[å°ˆæ¡ˆè¿½è¹¤è³‡æ–™å¿«å–ç³»çµ±ï¼šå–®ä¸€ Writerã€å¤š Reader çš„è³‡æ–™æ¶æ§‹è¨­è¨ˆç´€éŒ„]]></title>
            <link>https://chinishou.github.io/blog/SG-FPT-cache-system-design-note</link>
            <guid>https://chinishou.github.io/blog/SG-FPT-cache-system-design-note</guid>
            <pubDate>Sun, 16 Nov 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[ï¼ˆPythonã€FastAPI å…§ç¶²ç’°å¢ƒã€SQLite / DuckDB / Parquetï¼‰]]></description>
            <content:encoded><![CDATA[<p>ï¼ˆPythonã€FastAPI å…§ç¶²ç’°å¢ƒã€SQLite / DuckDB / Parquetï¼‰</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-å•é¡ŒèƒŒæ™¯">1. å•é¡ŒèƒŒæ™¯<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#1-%E5%95%8F%E9%A1%8C%E8%83%8C%E6%99%AF" class="hash-link" aria-label="Direct link to 1. å•é¡ŒèƒŒæ™¯" title="Direct link to 1. å•é¡ŒèƒŒæ™¯" translate="no">â€‹</a></h2>
<ul>
<li class="">ç”¢æ¥­ï¼šå½±è¦–</li>
<li class="">ç›®çš„æ˜¯æ¸›å°‘è¨ªå•SG/FPTçš„æ¬¡æ•¸ï¼Œè€Œéè¿½æ±‚é€Ÿåº¦</li>
<li class="">columné€šå¸¸ä¸è¶…é50</li>
<li class="">å¯«å…¥é »ç‡ï¼š200 äºº Ã— æ¯å¤©ç´„ 100 ç­† â†’ <strong>20,000 writes / day</strong></li>
<li class="">è®€å–å‰‡é ä¼°ç´„å¯«å…¥çš„ 10 å€ â†’ <strong>200,000 reads / day</strong></li>
<li class="">ä½¿ç”¨æƒ…å¢ƒï¼š<!-- -->
<ul>
<li class="">å°ˆæ¡ˆçµæŸå¾Œå¯ä¸Ÿæ£„æˆ–å–®ç¨å‚™ä»½</li>
<li class=""><strong>å¯«å°‘è®€å¤š</strong></li>
<li class="">æƒ³è¦æœ€ä½ç¶­è­·æˆæœ¬ï¼ˆäººåŠ›ã€ç¡¬é«”ã€çŸ¥è­˜è² æ“”ï¼‰</li>
</ul>
</li>
</ul>
<p>ç›®æ¨™ï¼š</p>
<ul>
<li class="">èƒ½Relational searching</li>
<li class="">Embedded DB</li>
<li class="">å¯ä¾æ—¥æœŸ / å°ˆæ¡ˆæ­¸æª”</li>
<li class="">å–®ä¸€writerèˆ‡å¤šreaderä¸¦è¡Œ</li>
<li class="">å´©æ½°å¾Œèƒ½å¿«é€Ÿå¾©åŸï¼Œå¾©åŸå¾Œè‡ªå‹•é‡è©¦ä»»å‹™éšŠåˆ—</li>
<li class="">åœ¨NFSä¸Šå­˜æ”¾å¿«ç…§ï¼Œç³»çµ±å´©æ½°æ™‚è®€å–å…¶ä½œç‚ºæ‡‰æ€¥æ–¹æ¡ˆ</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-æ¶æ§‹ç¸½è¦½">2. æ¶æ§‹ç¸½è¦½<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#2-%E6%9E%B6%E6%A7%8B%E7%B8%BD%E8%A6%BD" class="hash-link" aria-label="Direct link to 2. æ¶æ§‹ç¸½è¦½" title="Direct link to 2. æ¶æ§‹ç¸½è¦½" translate="no">â€‹</a></h2>
<ul>
<li class="">Writer æ¡ã€Œäº‹ä»¶ append-onlyã€å¯«å…¥ï¼ˆå¦‚ WAL/queueï¼‰</li>
<li class="">å¾Œç«¯è² è²¬åˆä½µè³‡æ–™èˆ‡ç”¢ç”Ÿæ—¥æª”/parquet/db</li>
<li class="">Reader è®€çš„æ˜¯ <strong>å·²å°å­˜çš„ç©©å®šæª”æ¡ˆ</strong>ï¼ˆimmutable fileï¼‰</li>
<li class="">Writer ç•¶æ‰æ™‚å¯é‡è·‘ queueï¼Œæˆ–è®€ snapshot ç¹¼çºŒå¯«</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ï¸-mermaid-æ¶æ§‹åœ–">ğŸ—ï¸ Mermaid æ¶æ§‹åœ–<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#%EF%B8%8F-mermaid-%E6%9E%B6%E6%A7%8B%E5%9C%96" class="hash-link" aria-label="Direct link to ğŸ—ï¸ Mermaid æ¶æ§‹åœ–" title="Direct link to ğŸ—ï¸ Mermaid æ¶æ§‹åœ–" translate="no">â€‹</a></h2>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flowchart LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subgraph Clients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A[ä½¿ç”¨è€… / å®¢æˆ¶ç«¯]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A --&gt;|Write| W["Writer&lt;br&gt;(FastAPI)"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">W --&gt;|Append event| Q["Queue DB&lt;br&gt;(SQLite/LMDB)"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">W --&gt;|Read| S["(Snapshots&lt;br&gt;Parquet/SQLite)"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subgraph Background Workers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    M[Merger / Compaction Worker]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Q --&gt;|Batch Process| M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">M --&gt;|Write Partition Files| S</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A --&gt;|Direct Read| S</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-æª”æ¡ˆåˆ†å‰²ç­–ç•¥">3. æª”æ¡ˆåˆ†å‰²ç­–ç•¥<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#3-%E6%AA%94%E6%A1%88%E5%88%86%E5%89%B2%E7%AD%96%E7%95%A5" class="hash-link" aria-label="Direct link to 3. æª”æ¡ˆåˆ†å‰²ç­–ç•¥" title="Direct link to 3. æª”æ¡ˆåˆ†å‰²ç­–ç•¥" translate="no">â€‹</a></h2>
<p>âœ” å¯åš <strong>æŒ‰æ—¥æœŸ</strong> æˆ– <strong>æŒ‰å°ˆæ¡ˆ</strong> åˆ†æª”<br>
<!-- -->âœ” Writer åªå¯«ã€Œç•¶å¤©ã€æˆ–ã€Œç•¶å‰å°ˆæ¡ˆã€<br>
<!-- -->âœ” Reader å¯è®€æ‰€æœ‰æª”æ¡ˆï¼ˆé€šå¸¸æ˜¯åªè®€ä¸”ä¸¦è¡Œåº¦é«˜ï¼‰</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-å¤šè®€å–®å¯«ç­–ç•¥å¯èƒ½çš„è³‡æ–™æ ¼å¼">4. å¤šè®€å–®å¯«ç­–ç•¥ï¼šå¯èƒ½çš„è³‡æ–™æ ¼å¼<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#4-%E5%A4%9A%E8%AE%80%E5%96%AE%E5%AF%AB%E7%AD%96%E7%95%A5%E5%8F%AF%E8%83%BD%E7%9A%84%E8%B3%87%E6%96%99%E6%A0%BC%E5%BC%8F" class="hash-link" aria-label="Direct link to 4. å¤šè®€å–®å¯«ç­–ç•¥ï¼šå¯èƒ½çš„è³‡æ–™æ ¼å¼" title="Direct link to 4. å¤šè®€å–®å¯«ç­–ç•¥ï¼šå¯èƒ½çš„è³‡æ–™æ ¼å¼" translate="no">â€‹</a></h2>
<table><thead><tr><th>æŠ€è¡“</th><th>å„ªé»</th><th>ç¼ºé»</th><th>é©åˆç”¨é€”</th></tr></thead><tbody><tr><td><strong>SQLite</strong></td><td>å–®å¯«å¤šè®€ã€æˆç†Ÿã€ç°¡å–®</td><td>å¯«å…¥é˜»å¡ï¼ˆä½†é‡ä¸å¤§å¯æ¥å—ï¼‰</td><td>æ—¥æª” or å°å‹ transactional</td></tr><tr><td><strong>DuckDB + Parquet</strong></td><td>è¶…å¿«æŸ¥è©¢ã€å…è¼‰æ•´æª”</td><td>ä¸é©åˆå¤š writerï¼ˆä½†ä½ ç”¨å–® writer å³å¯ï¼‰</td><td>åˆ†ææŸ¥è©¢ã€å¤š reader</td></tr><tr><td><strong>LMDB</strong></td><td>è¶…å¿«è®€ã€å¤š readerã€å–® writer</td><td>åš´æ ¼å–® writerï¼Œå¯«å…¥å¯èƒ½ block</td><td>queueã€metadata</td></tr><tr><td><strong>Redis (AOF)</strong></td><td>åš queue æµç¨‹å¾ˆå¼·</td><td>å¤šä¸€é“ç¶­é‹</td><td>è‹¥è¦æ›´å½ˆæ€§ event queue</td></tr></tbody></table>
<p>å€™é¸æ–¹æ¡ˆï¼š</p>
<ul>
<li class=""><strong>Parquet + DuckDB</strong></li>
<li class=""><strong>SQLite</strong></li>
</ul>
<p>è½é¸æ–¹æ¡ˆ:</p>
<ul>
<li class="">Redis: ç„¡æ³•SQL</li>
<li class="">Postgres: ä¸å¿…è¦çš„ç¶­è­·æˆæœ¬</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-èƒŒæ™¯-queue--wal-è¨­è¨ˆ">5. èƒŒæ™¯ Queue / WAL è¨­è¨ˆ<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#5-%E8%83%8C%E6%99%AF-queue--wal-%E8%A8%AD%E8%A8%88" class="hash-link" aria-label="Direct link to 5. èƒŒæ™¯ Queue / WAL è¨­è¨ˆ" title="Direct link to 5. èƒŒæ™¯ Queue / WAL è¨­è¨ˆ" translate="no">â€‹</a></h2>
<p>Writer æ”¶åˆ°è³‡æ–™å¾Œï¼š</p>
<ol>
<li class="">append event â†’ queueï¼ˆä¾‹å¦‚ SQLite / LMDBï¼‰</li>
<li class="">å›æ‡‰ clientï¼ˆä¸å¿…ç­‰è³‡æ–™åˆä½µï¼‰</li>
<li class="">èƒŒæ™¯ worker å®šæœŸå°‡ queue äº‹ä»¶ <strong>merge æˆ Parquet</strong></li>
<li class="">æ¸…é™¤å·²è™•ç†äº‹ä»¶</li>
</ol>
<p>ç­‰åŒ event sourcing + compactionï¼š</p>
<blockquote>
<p>å–®å¯«ã€å¤šè®€ã€é«˜ç©©å®šæ€§çš„ event-based architecture</p>
</blockquote>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-å´©æ½°å¾©åŸç­–ç•¥">6. å´©æ½°å¾©åŸç­–ç•¥<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#6-%E5%B4%A9%E6%BD%B0%E5%BE%A9%E5%8E%9F%E7%AD%96%E7%95%A5" class="hash-link" aria-label="Direct link to 6. å´©æ½°å¾©åŸç­–ç•¥" title="Direct link to 6. å´©æ½°å¾©åŸç­–ç•¥" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="writer-å´©æ½°">Writer å´©æ½°<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#writer-%E5%B4%A9%E6%BD%B0" class="hash-link" aria-label="Direct link to Writer å´©æ½°" title="Direct link to Writer å´©æ½°" translate="no">â€‹</a></h3>
<ul>
<li class="">queueï¼ˆSQLite/LMDBï¼‰æ˜¯ ACID</li>
<li class="">é‡å•Ÿä¹‹å¾Œ worker è®€ queue è£¡å°šæœª processed çš„äº‹ä»¶é‡æ–°è·‘</li>
<li class="">ä¸æœƒéºå¤±è³‡æ–™</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="worker-å´©æ½°">Worker å´©æ½°<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#worker-%E5%B4%A9%E6%BD%B0" class="hash-link" aria-label="Direct link to Worker å´©æ½°" title="Direct link to Worker å´©æ½°" translate="no">â€‹</a></h3>
<ul>
<li class="">ä¸å½±éŸ¿ writer</li>
<li class="">compaction æ²’è·‘å®Œä¸‹æ¬¡é‡å•Ÿå†è·‘</li>
<li class="">snapshotï¼ˆParquet/SQLiteï¼‰ä»æœ‰æ•ˆ</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="snapshot--nfs-å‚™æ´">Snapshot / NFS å‚™æ´<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#snapshot--nfs-%E5%82%99%E6%8F%B4" class="hash-link" aria-label="Direct link to Snapshot / NFS å‚™æ´" title="Direct link to Snapshot / NFS å‚™æ´" translate="no">â€‹</a></h3>
<ul>
<li class="">å®šæ™‚ copy parquet åˆ° NFS</li>
<li class="">API æ›æ‰ â†’ å®¢æˆ¶ç«¯ switch åˆ° <strong>ç›´æ¥è®€ NFS</strong></li>
<li class="">parquet æ”¯æŒ predicate pushdown â†’ ä¸éœ€è®€æ•´æª”</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-å®¢æˆ¶ç«¯å¯å¦ç›´æ¥è®€æª”">7. å®¢æˆ¶ç«¯å¯å¦ç›´æ¥è®€æª”ï¼Ÿ<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#7-%E5%AE%A2%E6%88%B6%E7%AB%AF%E5%8F%AF%E5%90%A6%E7%9B%B4%E6%8E%A5%E8%AE%80%E6%AA%94" class="hash-link" aria-label="Direct link to 7. å®¢æˆ¶ç«¯å¯å¦ç›´æ¥è®€æª”ï¼Ÿ" title="Direct link to 7. å®¢æˆ¶ç«¯å¯å¦ç›´æ¥è®€æª”ï¼Ÿ" translate="no">â€‹</a></h2>
<p>æ˜¯çš„ï¼Œå®Œå…¨å¯è¡Œï¼Œä¸¦é©åˆè®€å¤šå¯«å°‘æ¶æ§‹ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="duckdb-client-read-ç¤ºä¾‹">DuckDB client read ç¤ºä¾‹<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#duckdb-client-read-%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="Direct link to DuckDB client read ç¤ºä¾‹" title="Direct link to DuckDB client read ç¤ºä¾‹" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> duckdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">con </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> duckdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> con</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    SELECT * </span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    FROM 'nfs/projects/*.parquet'</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    WHERE project_id = 123</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>ç‰¹é»ï¼š</p>
<ul>
<li class="">ä¸éœ€è¼‰å…¥æ•´æª”</li>
<li class="">column pruning / row filtering</li>
<li class="">é©åˆå…§ç¶²ç’°å¢ƒ</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="8-writerfastapiç¯„ä¾‹">8. Writerï¼ˆFastAPIï¼‰ç¯„ä¾‹<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#8-writerfastapi%E7%AF%84%E4%BE%8B" class="hash-link" aria-label="Direct link to 8. Writerï¼ˆFastAPIï¼‰ç¯„ä¾‹" title="Direct link to 8. Writerï¼ˆFastAPIï¼‰ç¯„ä¾‹" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sqlite-queue-schema">SQLite queue schema<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#sqlite-queue-schema" class="hash-link" aria-label="Direct link to SQLite queue schema" title="Direct link to SQLite queue schema" translate="no">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> queue </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> AUTOINCREMENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event JSON</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ts </span><span class="token keyword" style="color:#00009f">TIMESTAMP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    processed </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="fastapi-append-event">FastAPI append event<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#fastapi-append-event" class="hash-link" aria-label="Direct link to FastAPI append event" title="Direct link to FastAPI append event" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> FastAPI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sqlite3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FastAPI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sqlite3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"queue.db"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> check_same_thread</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@app</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/write"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write_event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">dict</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"INSERT INTO queue (event) VALUES (?)"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"status"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ok"</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="9-èƒŒæ™¯-workeråˆä½µåˆ°-parquet">9. èƒŒæ™¯ Workerï¼ˆåˆä½µåˆ° Parquetï¼‰<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#9-%E8%83%8C%E6%99%AF-worker%E5%90%88%E4%BD%B5%E5%88%B0-parquet" class="hash-link" aria-label="Direct link to 9. èƒŒæ™¯ Workerï¼ˆåˆä½µåˆ° Parquetï¼‰" title="Direct link to 9. èƒŒæ™¯ Workerï¼ˆåˆä½µåˆ° Parquetï¼‰" translate="no">â€‹</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sqlite3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> duckdb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pyarrow </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pyarrow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parquet </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">process_queue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sqlite3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"queue.db"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cur </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"SELECT id, event FROM queue WHERE processed = 0"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cur</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fetchall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># è½‰æˆ Parquet</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    table </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Table</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_pylist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pq</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write_table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"data/day_2025_02_17.parquet"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> append</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ids </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-interpolation string" style="color:#e3116c">f"UPDATE queue SET processed=1 WHERE id IN (</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">','</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">join</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation builtin">map</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation builtin">str</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> ids</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">)"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="10-lmdb-ä½œç‚º-queue-çš„ç¯„ä¾‹">10. LMDB ä½œç‚º Queue çš„ç¯„ä¾‹<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#10-lmdb-%E4%BD%9C%E7%82%BA-queue-%E7%9A%84%E7%AF%84%E4%BE%8B" class="hash-link" aria-label="Direct link to 10. LMDB ä½œç‚º Queue çš„ç¯„ä¾‹" title="Direct link to 10. LMDB ä½œç‚º Queue çš„ç¯„ä¾‹" translate="no">â€‹</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> lmdb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lmdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"queue.lmdb"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> map_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1e9</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">enqueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">begin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">write</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> txn</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">time_ns</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        txn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>ç‰¹æ€§ï¼š</p>
<ul>
<li class="">å–® writerã€å¤š reader</li>
<li class="">crash-safe</li>
<li class="">æ•ˆèƒ½æ¥µé«˜</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="11-æœ€çµ‚é¸æ“‡">11. æœ€çµ‚é¸æ“‡<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#11-%E6%9C%80%E7%B5%82%E9%81%B8%E6%93%87" class="hash-link" aria-label="Direct link to 11. æœ€çµ‚é¸æ“‡" title="Direct link to 11. æœ€çµ‚é¸æ“‡" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="æœ€ä½ç¶­é‹æœ€é«˜å¯é è®€å¯«æ¨¡å¼æœ€é©é…">æœ€ä½ç¶­é‹ã€æœ€é«˜å¯é ã€è®€å¯«æ¨¡å¼æœ€é©é…ï¼š<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#%E6%9C%80%E4%BD%8E%E7%B6%AD%E9%81%8B%E6%9C%80%E9%AB%98%E5%8F%AF%E9%9D%A0%E8%AE%80%E5%AF%AB%E6%A8%A1%E5%BC%8F%E6%9C%80%E9%81%A9%E9%85%8D" class="hash-link" aria-label="Direct link to æœ€ä½ç¶­é‹ã€æœ€é«˜å¯é ã€è®€å¯«æ¨¡å¼æœ€é©é…ï¼š" title="Direct link to æœ€ä½ç¶­é‹ã€æœ€é«˜å¯é ã€è®€å¯«æ¨¡å¼æœ€é©é…ï¼š" translate="no">â€‹</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="writer">Writer<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#writer" class="hash-link" aria-label="Direct link to Writer" title="Direct link to Writer" translate="no">â€‹</a></h3>
<ul>
<li class="">FastAPIï¼ˆæˆ– flaskï¼‰</li>
<li class="">å–®ä¸€ writer process â†’ è¿½åŠ äº‹ä»¶åˆ° Queue</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="queue">Queue<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#queue" class="hash-link" aria-label="Direct link to Queue" title="Direct link to Queue" translate="no">â€‹</a></h3>
<ul>
<li class="">SQLiteï¼ˆæ¥µç°¡ï¼‰</li>
<li class="">è‹¥è¿½æ±‚æ•ˆèƒ½å†ç”¨ LMDB</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="background-worker">Background Worker<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#background-worker" class="hash-link" aria-label="Direct link to Background Worker" title="Direct link to Background Worker" translate="no">â€‹</a></h3>
<ul>
<li class="">å®šæœŸå°‡ queue â†’ Parquet</li>
<li class="">åˆ†æ—¥æœŸ/å°ˆæ¡ˆç”¢æª”</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="reader">Reader<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#reader" class="hash-link" aria-label="Direct link to Reader" title="Direct link to Reader" translate="no">â€‹</a></h3>
<ul>
<li class="">å®¢æˆ¶ç«¯å¯ä»¥ç›´æ¥è®€ parquet + DuckDB</li>
<li class="">æˆ–ç¶“ API æŸ¥è©¢</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="failover">Failover<a href="https://chinishou.github.io/blog/SG-FPT-cache-system-design-note#failover" class="hash-link" aria-label="Direct link to Failover" title="Direct link to Failover" translate="no">â€‹</a></h3>
<ul>
<li class="">queue ACID ä¿è­‰ä¸éºå¤±</li>
<li class="">parquet snapshot æ”¾ NFS</li>
<li class="">API æ›æ‰è®€ snapshot ä»å¯é‹ä½œ</li>
</ul>
<hr>]]></content:encoded>
            <category>Python</category>
            <category>Shotgun/Shotgrid/FlowProductionTracking</category>
        </item>
        <item>
            <title><![CDATA[Welcome]]></title>
            <link>https://chinishou.github.io/blog/welcome</link>
            <guid>https://chinishou.github.io/blog/welcome</guid>
            <pubDate>Thu, 26 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Docusaurus blogging features are powered by the blog plugin.]]></description>
            <content:encoded><![CDATA[<p><a href="https://docusaurus.io/docs/blog" target="_blank" rel="noopener noreferrer" class="">Docusaurus blogging features</a> are powered by the <a href="https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog" target="_blank" rel="noopener noreferrer" class="">blog plugin</a>.</p>
<p>Here are a few tips you might find useful.</p>
<p>Simply add Markdown files (or folders) to the <code>blog</code> directory.</p>
<p>Regular blog authors can be added to <code>authors.yml</code>.</p>
<p>The blog post date can be extracted from filenames, such as:</p>
<ul>
<li class=""><code>2019-05-30-welcome.md</code></li>
<li class=""><code>2019-05-30-welcome/index.md</code></li>
</ul>
<p>A blog post folder can be convenient to co-locate blog post images:</p>
<p><img decoding="async" loading="lazy" alt="Docusaurus Plushie" src="https://chinishou.github.io/assets/images/docusaurus-plushie-banner-a60f7593abca1e3eef26a9afa244e4fb.jpeg" width="1500" height="500" class="img_ev3q"></p>
<p>The blog supports tags as well!</p>
<p><strong>And if you don't want a blog</strong>: just delete this directory, and use <code>blog: false</code> in your Docusaurus config.</p>]]></content:encoded>
            <category>facebook</category>
            <category>hello</category>
            <category>docusaurus</category>
        </item>
    </channel>
</rss>